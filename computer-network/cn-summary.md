# 1. 综述

## 《计算机网络 自顶向下方法》

### 因特网

因特网是一个世界范围的计算机网络，即它是一个互联了遍及全世界的数以亿计的计算设备的网络。在不久前，这些计算设备多数是传统的桌面PC、Linux工作站以及所谓的服务器\(它们用于存储和传输 Web 页面和电子邮件报文等信息\) 。然而，越来越多的非传统的因特网端系统\(如便携机、智能手机、平板电脑、电视、游戏机、Web 相机、汽车、环境传感设备、数字相框、家用电器\)和安全系统，正在与因特网相连。的确，在许多非传统设备连接到因特网的情况下，计算机网络这个术语开始听起来有些过时了。

用因特网术语来说，所有这些设备都称为 **主机\(host\)** 或 **端系统\(end system\)** 。端系统通过 **通信链路\(communication link\)** 和 **分组交换机\(packet switch\)** 连接到一起。

### 通信链路

通信链路由不同类型的物理媒体组成。这些物理媒体包括同轴电缆、铜线、光纤和无线电频谱。不同的链路能够以不同的速率传输数据，链路的传输速率以比特/秒度量\(bit/s，或bps\)。

### 分组

当一台端系统要向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节。由此形成的信息包用计算机网络的术语来说称为 **分组\(packet\)** 。这些分组通过网络发送到目的端系统，在那里被装配成初始数据。

### 交换机

分组交换机从它的一条入通信链路接收到达的分组，并从它的一条出通信链路转发该分组。市面上流行着各种类型、各具特色的分组交换机，但在当今的因特网中，两种最著名的类型是 **路由器\(router\)** 和 **链路层交换机\(link-layer switch\)** 。这两种类型的交换机朝着最终目的地转发分组。链路层交换机通常用于接入网中，而路由器通常用于网络核心中。

### 路径

从发送端系统到接收端系统，一个分组所经历的一系列通信链路和分组交换机称为通过该网络的 **路径\(route或path\)** 。

### 分组交换网络

用于传送分组的分组交换网络在许多方面类似于承载运输车辆的运输网络，该网络包括了高速公路、公路和立交桥。例如，考虑下列情况，一个工厂需要将大量货物搬运到数千公里以外的某个目的地仓库。在工厂中，货物要分开并装上卡车车队。然后，每辆卡车独立地通过高速公路、公路和立交桥组成的网络向该仓库运送货物。在目的地仓库，卸下这些货物，并且与一起装载的同一批货物的其余部分堆放在一起。因此，在许多方面，分组类似于卡车，通信链路类似于高速公路和公路，分组交换机类似于立交桥，而端系统类似于建筑物。就像卡车选取运输网络的一条路径前行一样，分组则选取计算机网络的一条路径前行。

### ISP

端系统通过 **因特网服务提供商\(Internet Service Provider , ISP\)** 接入因特网，包括如本地电缆或电话公司那样的住宅区ISP 、公司ISP、大学ISP ，以及那些在机场、旅馆、咖啡店和其他公共场所提供WiFi 接入的ISP 。

每个ISP 是一个由多个分组交换机和多段通信链路组成的网络。各ISP 为端系统提供了各种不同类型的网络接入，包括如线缆调制解调器或DSL 那样的住宅宽带接入、高速局域网接入、无线接入和56kbps 拨号调制解调器接入。ISP 也为内容提供者提供因特网接入服务，将Web 站点直接接入因特网。

因特网就是将端系统彼此互联，因此为端系统提供接入的ISP 也必须互联。低层的ISP 通过国家的、国际的高层ISP \(如Level 3 Communications 、AT&T 、Sprint 和NTI\) 互联起来。高层ISP是由通过高速光纤链路互联的高速路由器组成的。

无论是高层还是低层ISP 网络，它们每个都是独立管理的，运行着IP协议，遵从一定的命名和地址习惯。

### 协议

端系统、分组交换机和其他因特网部件都要运行一系列协议\( protocol\) ，这些协议控制因特网中信息的接收和发送。TCP \(Transmission Control Protocol ，传输控制协议\)和IP \(Internet Protocol ，网际协议\)是因特网中两个最为重要的协议。IP 协议定义了在路由器和端系统之间发送和接收的分组格式。因特网的主要协议统称为TCP/IP 。

网络协议交换报文和采取动作的实体是某些设备的硬件或软件组件\(这些设备可以是计算机、智能手机、平板电脑、路由器或其他具有网络能力的设备\) 。在因特网中，凡是涉及两个或多个远程通信实体的所有活动都受协议的制约。例如，在两台物理上连接的计算机中，硬件实现的协议控制了在两块网络接口卡间的"线上"的比特流；在端系统中，拥塞控制协议控制了在发送方和接收方之间传输的分组发送的速率。显然，协议在因特网中无处不在。

以大家可能熟悉的一个计算机网络协议为例，考虑当你向一个Web 服务器发出请求\(即你在Web 浏览器中键入一个Web 网页的URL\) 时所发生的情况。首先，你的计算机将向该Web 服务器发送一条连接请求报文，并等待回答。该Web 服务器将最终能接收到连接请求报文，并返回一条连接响应报文。得知请求该Web 文档正常以后，计算机则在一条 GET 报文中发送要从这台 Web 服务器上取回的网页名字。最后， Web 服务器向计算机返回该Web 网页\(文件\) 。

从上述例子中可见，报文的交换以及发送和接收这些报文时所采取的动作是定义一个协议的关键元素：

> 一个协议定义了在两个或多个通信实体之间交换的报文格式和次序，以及报文发送和/或接收一条报文或其他事件所采取的动作。

因特网\(更一般地说是计算机网络\)广泛地使用了协议。不同的协议用于完成不同的通信任务，某些协议简单而直截了当，而另一些协议则复杂且晦涩难懂。掌握计算机网络领域知识的过程就是理解网络协议的构成、原理和工作方式的过程。

### 标准

鉴于因特网协议的重要性，每个人就各个协议及其作用取得一致认识是很重要的，这样人们就能够创造协同工作的系统和产品。这正是标准发挥作用的地方。

因特网标准\( Internet standard\) 由因特网工程任务组\(Internet Engineering Task Force , IETF\) \[ lETF 2012\] 研发。IETF 的标准文档称为请求评论\(Request For Comment ，RFC\) 。RFC最初是作为普通的请求评论\(因此而得名\) ，以解决因特网先驱者们面临的网络和协议问题。

RFC文挡往往是技术性很强并相当详细的。它们定义了TCP 、IP 、HTTP\(用于Web\) 和SMTP \(用于电子邮件\)等协议。目前已经有将近6000 个RFC。其他组织也在制定用于网络组件的标准，最引人注目的是针对网络链路的标准。例如，IEEE 802 LAN/MAN 标准化委员会\[IEEE 802 202\] 制定了以太网和无线 WiFi 的标准。

### 端系统

通常把与因特网相连的计算机和其他设备称为端系统。因为它们位于因特网的边缘，故而被称为端系统。因特网的端系统包括了桌面计算机\(例如，桌面PC、Mac 和Linux 盒\)、服务器\(例如， Web 和电子邮件服务器\)和移动计算机\(例如，便携机、智能手机和平板电脑\) 。此外，越来越多的非传统设备正被作为端系统与因特网相连。

端系统也称为主机，因为它们容纳\(即运行\)应用程序，如Web 浏览器程序、Web服务器程序、电子邮件阅读程序或电子邮件服务器程序等。主机有时又被进一步划分为两类:客户\( client\) 和服务器\(server\) 。客户非正式地等同于桌面PC、移动PC 和智能手机等，而服务器非正式地等同于更为强大的机器，用于存储和发布Web 页面、流视频、中继电子邮件等。

### 接入网

考虑了位于"网络边缘"的应用程序和端系统后，我们接下来再考虑接入网\(access network\) ，这是指将端系统连接到其边缘路由器\(edge router\) 的物理链路。边缘路由器是端系统到任何其他远程端系统的路径上的第一台路由器。

### 分组交换

通过网络链路和交换机移动数据有两种基本方法： **电路交换** \(circuit sw山hing\) 和 **分组交换** \(packet switching\) 。

在各种网络应用中，端系统彼此交换报文\(message\) 。报文能够包含协议设计者需要的任何东西。报文可以执行一种控制功能，也可以包含数据，例如电子邮件数据、JPEG图像或MP3音频文件。

为了从源端系统向目的端系统发送一个报文，源将长报文划分为较小的数据块，称之为分组\(packet\) 。在源和目的地之间，每个分组都通过通信链路和分组交换机\(packet switch\) \(交换机主要有两类：路由器和链路层交换机\)传送。

分组以等于该链路最大传输速率的速度传输通过通信链路。因此，如果某源端系统或分组交换机经过一条链路发送一个 L 比特的分组，链路的传输速率为 R 比特/秒，则传输该分组的时间为 L/R 秒。

### 电路交换

通过网络链路和交换机移动数据有两种基本方法： **电路交换** \(circuit sw山hing\) 和 **分组交换** \(packet switching\) 。

在电路交换网络中，在端系统间通信会话期间，预留了端系统间通信沿路径所需要的资源\(缓存，链路传输速率\) 。（而在分组交换网络中，这些资源则不是预留的，会话的报文按需使用这些资源，其后果可能是不得不排队等待接入通信线路。）

传统的电话网络是电路交换网络的例子。考虑当一个人通过电话网向另一个人发送信息\(语音或传真\)时所发生的情况。在发送方能够发送信息之前，该网络必须在发送方和接收方之间建立一条连接。这是一个名副其实的连接，因为此时沿着发送方和接收方之间路径上的交换机都将为该连接维护连接状态。用电话的术语来说，该连接被称为一条电路\(circuit\) 。当网络创建这种电路时，它也在连接期间在该网络链路上预留了恒定的传输速率\(表示为每条链路传输容量的一部分\) 。既然已经为该发送方-接收方连接预留了带宽，则发送方能够以确保的恒定速率向接收方传送数据。

### 电路交换网络中的复用

### 存储转发传输

多数分组交换机在链路的输入端使用存储转发传输\( store-and-forward lransmission\)机制， 存储转发机制是指在交换机能够开始向输出链路传输该分组的第一个比特之前，必须接收到整个分组。

每个分组交换机有多条链路与之相连。对于每条相连的链路，该分组交换机具有一个 **输出缓存** \(output buffer\) \(也称为 **输出队列** output queue\) ，它用于存储路由器准备发往那条链路的分组。该输出缓存在分组交换中起着重要的作用。如果到达的分组需要传输到某条链路，但发现该链路正忙于传输其他分组，该到达分组必须在该输出缓存中等待。因此，除了存储转发时延以外，分组还要承受输出缓存的 **排队时延** \(queue delay\) 。这些时延是变化的，变化的程度取决于网络中的拥塞程度。因为缓存空间的大小是有限的， 一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了。在此情况下，将出现 **分组丢失\(丢包\)** \(packet lost\) ，到达的分组或已经排队的分组之一将被丢弃。

### 转发表

在因特网中，每个端系统具有一个称为 IP 地址的地址。当源主机要向目的端系统发送一个分组时，源在该分组的首部包含了目的地的IP地址。如同邮政地址那样，该地址具有一种等级结构。当一个分组到达网络中的路由器时，路由器检查该分组的目的地址的一部分，并向一台相邻路由器转发该分组。更特别的是，每台路由器具有一个 **转发表** \(forwarding table\) ，用于将目的地址\(或目的地址的一部分\)映射成为输出链路。当某分组到达一台路由器时，路由器检查该地址，并用这个目的地址搜索其转发表，以发现适当的出链路，路由器则将分组导向该出链路。端到端选路的过程与一个司机不使用地图而喜欢问路的过程类似。

因特网具有一些特殊的 **路由选择协议** \(routing protocol\) ，用于自动地设置这些转发表。例如，一个路由选择协议可以决定从每台路由器到每个目的地的最短路径，并使用这些最短路径结果来配置路由器中的转发表。

### 参考

* [《计算机网络 自顶向下方法》第6版](https://book.douban.com/subject/26176870/)

## 《计算机网络》 谢希仁

### 前言

在课程学时数较少的情况下可以只学习前六章，这样仍可获得有关因特网的最基本的知识。

### 第1章 概述

本章是全书的概要。先介绍计算机网络在信息时代的作用，接着对因特网进行了概述，包括因特网发展的三个阶段，以及今后的发展趋势。然后，讨论了因特网的组成，指出了因特网的边缘部分和核心部分的重要区别。在简单介绍了计算机网络在我国的发展以及计算机网络的类别后，又讨论了计算机网络的性能指标。最后，论述了整个课程都要用到的重要概念——计算机网络的体系结构。

本章最重要的内容是： 

\(1\) 因特网的边缘部分和核心部分的作用，这里面包含分组交换的概念。

\(2\) 计算机网络的一些性能指标。 

\(3\) 计算机网络分层次的体系结构，包含协议和服务的概念。

建议读者在学习到后续章节时，经常复习一下本章中的基本概念。这对掌握好整个计算机网络的概念是有好处的。

#### 1.1 计算机网络在信息时代中的作用

这里所说的网络是指“三网”，即电信网络、有线电视网络和计算机网络。

随着技术的发展，电信网络和有线电视网络都逐渐融入了现代计算机网络的技术，这就产生了“网络融合”的概念。现在计算机网络不仅能够传送数据，同时也能够向用户提供打电话、听音乐和观看视频节目的服务，而电信网络和有线电视网络也都能够连接到计算机网络上。

计算机网络其实与电信网络和有线电视网络一样，都是一种通信基础设施，但与这两个网络最大的不同在于计算机网络的端设备是功能强大且具有智能的计算机

计算机网络向用户提供的最重要的功能有两个，即： \(1\) 连通性； \(2\) 共享。

